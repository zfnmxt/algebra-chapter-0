\documentclass[a4paper]{report}

\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{enumitem}
\usepackage[sc]{mathpazo}
\linespread{1.05}        
\usepackage[margin=1.25in, marginparwidth=2in]{geometry}
\newenvironment{ex}[1]
    {\noindent{\large \bf Exercise #1.}}{\vspace{0.5cm}}

\begin{document}
\begin{ex}{1.2}
  Let $\sim$ be an equivalence relation on a set $S$. We need to show that $\mathcal{P}_\sim$ is a
  set of non-empty disjoint sets whose union is $S$. Non-emptiness is easy: since $\sim$ is an
  equivalence relation, $a \sim a$ for all $a \in S$ and we conclude $a \in [a]_\sim$ by the
  definition of $[a]_\sim$.

  Disjointness takes a bit more work. If $S = \varnothing$, then $P_\sim = \{\}$ is trivially
  disjoint. Similarly, if $S = \{a\}$, then $P = \{[a]_\sim\} = \{\{a\}\}$ is disjoint. 

  So, we now assume $|S| \geq 2$ and let $r, s \in S$ be distinct. For a contradiction, suppose that
  there exists $c \in S$ and distinct $[r]_\sim, [s]_\sim \in \mathcal{P}_\sim$ such that $c \in
  [r]_\sim$ and $c\in [s]_\sim$. Hence, $c \sim r$ and $c \sim s$. By the symmetry and transitivity
  of $\sim$, $r \sim s$ and $s \sim r$. But this means that for any $x \in [r]_\sim$ and any $y \in
  [s]_\sim$, we have $x \sim r$ from which it follows by transitivity that $x \sim s$ and,
  similarly, $y \sim s$, from which it follows that $y \sim r$. We conclude that $[r]_\sim =
  [s]_\sim$; by contradiction, $[r]_\sim, [s]_\sim$ must be disjoint.

  Finally, suppose there exists $c \in S$ such that $c \notin \mathcal{P}_\sim$. But
  $[c]_\sim \in \bigcup_{x \in S} [x]_\sim$ and $c \in [c]_\sim$ so it must be the case
  that $\bigcup_{x \in S} [x]_\sim \subseteq S$. Now suppose that there exists $c \in \bigcup_{x \in S} [x]_\sim$
  with $c \notin S$. There then exists a $r \in S$ such that $c \in [r]_\sim$. But 
  \[
    [r]_\sim = \{s \in S| s \sim r\}
  \]
   so $c \in S$ and $S \subseteq \bigcup_{x \in S} [x]_\sim$. We conclude $S = \bigcup_{x
     \in S} [x]_\sim = \bigcup_{T \in P_{\sim}} T$ as required.
\end{ex}

\begin{ex}{1.3}
  Let $a, b \in S$. Define $\sim$ by
  \[
    a \sim b \Longleftrightarrow (\exists T \in \mathcal{P}_\sim)~a, b \in T
  \]
  All that's left is to show $\sim$ satisfies the required properties.
  \begin{itemize}
    \item reflexivity: Let $a \in S$. Since the union of the sets of $\mathcal{P}_\sim$ is equal to
      $S$, there exists $T \in \mathcal{P}_\sim$ with $a \in T$. Hence, $a \sim a$.
    \item symmetry: Let $a, b \in S$ and suppose $a \sim b$. Then $(\exists T \in
      \mathcal{P}_\sim)~a,b \in T$ from which we conclude $b \sim a$.
    \item transitivity: Let $a, b, c \in S$ and suppose $a \sim b, b \sim c$. Then, $(\exists T \in
      \mathcal{P}_\sim)~a,b \in T$ and $(\exists U \in \mathcal{P}_\sim)~b,c \in U$.  But since
      $\mathcal{P}_\sim$ consists of disjoint sets, $T = U$ since $b$ is in both of them. Hence, $c
      \in T$ and we conclude $a \sim c$.
  \end{itemize}
\end{ex}

\begin{ex}{1.5}
 Let $a, b \in \mathbb{N}$. Define $a~R~b$ by
 \[
   a~R~b \Longleftrightarrow |a - b| \leq 1
  \]
  $R$ is clearly reflexive: for all $a \in \mathbb{N}$, $|a - a| = 0 \leq 1$. $R$ is symmetric since
  $|x| = |-x|$ for any $x$. However, $R$ is \emph{not} transitive: let distinct $a, b, c \in
  \mathbb{N}$ and $a~R~b$ and $b~R~c$. Then, $|a - b| = 1$ (since $a \neq b$) and similarly $|b - c| = 1$. Hence,
  either $a - b = 1$ or $b - a = 1$. In the former case, $b - c = 1$ (since $c \neq a$) from which we conclude
  that $a - c = 2$ and in the later case, $c - b = 1$, and we have $c - a = 2$ again. Hence, $|a - c| = 2$ and thus
  $a~R~c$ does not hold.
\end{ex}

\begin{ex}{1.6}
  Showing $\sim$ satisfies the required properties:
  \begin{itemize}
  \item reflexivity: For all $a \in \mathbb{R}$, $a -a = 0 \in \mathbb{Z}$.
  \item symmetry: Let $a, b \in \mathbb{R}$. If $b - a \in \mathbb{Z}$, clearly $-(b - a) = a - b \in \mathbb{Z}$.
  \item transitivity: Let $a, b, c \in \mathbb{R}$ and suppose $a \sim b$ and $b \sim c$. Then $b-a \in \mathbb{Z}$ and $c - b \in \mathbb{Z}$. Since 
    $\mathbb{Z}$ is closed under addition, $c - a = (c-b) + (b - a) \in \mathbb{Z}$.

    $\sim$ relates $a,b \in \mathbb{R}$ if they have the same post-decimal representation.
  \end{itemize}
\end{ex}
\begin{ex}{2.1}
  A bijection $f : S \rightarrow S$ can be constructed iteratively as
  follows. Set $D = T = S$.  Choose $s_1 \in D, s_1' \in T$ and set
  $f(s_1) = s_1'$. Next, choose $s_2 \in D \setminus \{s_1\}, s_2' \in
  T \setminus \{s_1'\}$ and set $f(s_2) = s_2'$.  Next, choose $s_3
  \in D \setminus \{s_1, s_2\}, s_3' \in T \setminus \{s_1',s_2'\}$
  and set $f(s_3) = s_3'$.  Continue in this manner for $n$ steps
  (until $D = T = \varnothing$).

  Clearly, $f$ is a bijection. If $s, s' \in S$, then $f(s) = f(s')
  \Rightarrow s = s'$ by construction.  Similarly, since the algorithm
  continues until $T = \varnothing$, $f$ must also be surjective.  The
  algorithm allows for $n!$ different constructions of $f$. The only
  question that remains is if there exists a bijection $g : S
  \rightarrow S$ which cannot be constructed in such a fashion.
  But $g$ \emph{can} be constructed in such a fashion: for each $s \in S$,
  simply choose the target of $f$ as $g(s)$. This is always possible
  because $g$ is a bijection: for each $s' \in T$, there is an
  $s \in D$ such that $g(s)$ uniquely maps to it. But such a construction
  means that $f = g$, which is a contradiction.

  We conclude that there are exactly $n!$ bijections from $S$ to $S$.
  
\end{ex}
\end{document}
